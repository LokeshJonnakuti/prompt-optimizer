# Contributing to PromptOptimizer

Thank you for considering contributing to PromptOptimizer.
To contribute to this project, please follow a ["fork and pull request"](https://docs.github.com/en/get-started/quickstart/contributing-to-projects) workflow.

## Contributing Guidelines

### GitHub Issues
TBD

### Release process
TBD

## Quick Start

This project uses [Poetry](https://python-poetry.org/) as a dependency manager. Check out Poetry's [documentation on how to install it](https://python-poetry.org/docs/#installation) on your system before proceeding.
To install requirements:

```bash
poetry install -E all
```

This will install all requirements for running the package, examples, linting, formatting, tests, and coverage. Note the `-E all` flag will install all optional dependencies necessary for integration testing.

❗Note: If you're running Poetry 1.4.1 and receive a `WheelFileValidationError` for `debugpy` during installation, you can try either downgrading to Poetry 1.4.0 or disabling "modern installation" (`poetry config installer.modern-installation false`) and re-install requirements. See [this `debugpy` issue](https://github.com/microsoft/debugpy/issues/1246) for more details.

Now, you should be able to run the common tasks in the following section.

## ✅Common Tasks

Type `make` for a list of common tasks.

### Code Formatting

Formatting for this project is done via a combination of [Black](https://black.readthedocs.io/en/stable/) and [isort](https://pycqa.github.io/isort/).

To run formatting for this project:

```bash
make format
```

### Linting

Linting for this project is done via a combination of [Black](https://black.readthedocs.io/en/stable/).

To run linting for this project:

```bash
make lint
```

### Testing

Unit tests cover modular logic that does not require calls to outside APIs.

To run unit tests:

```bash
make test
```

If you add new logic, please add a unit test.

## Documentation

### Contribute Documentation

Docs are largely autogenerated by [sphinx](https://www.sphinx-doc.org/en/master/) from the code.

For that reason, we ask that you add good documentation to all classes and methods.


### Build Documentation Locally

Before building the documentation, it is always a good idea to clean the build directory:

```bash
make docs_clean
```

Next, you can run the linkchecker to make sure all links are valid:

```bash
make docs_linkcheck
```

Finally, you can build the documentation as outlined below:

```bash
make docs_build
```

# Extension contribution
Apart from improving, fixing and optimizing the code. There are three extensions possible for contributions:

## More Evaluations
There is no one prompt optimizer that works for all tasks. Extending evaluations by introducing more tasks will help choosing the right optimizer for the right task. 
[Evaluations](https://github.com/vaibkumr/prompt-optimizer/tree/master/evaluations) directory of our project can be used as a motivation to design evaluations and run batch evaluation experiments for various optimizers. This is different from metrics which are used to measure optimization quality on-the-go to decide if the optimized prompt should be used or not. Evaluations run over a set of LLM taks with ideal responses to evaluate the quality of optimizations. In simple words, we have the input and label (ideal response from LLMs) for these evaluations while for metrics, we only have the input (before and after optimizations).


## More Optimizers
Certainly more and better optimizers are possible. Please see [custom optimizers](.) for a guide on how to create custom new optimizers using this library.


## More Metrics
Better metrics are possible to evaluate prompt optimization qualities. Please see [custom metrics](.) for a guide on how to create custom new metrics using this library.
